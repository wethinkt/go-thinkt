# MEMORY: Long-term Concepts and Decisions

This document captures architectural decisions, design rationale, and persistent context for the thinking-tracer-tools project.

## Technology Stack

### Language: Go

- Selected for cross-platform CLI distribution
- Strong standard library for JSON/file processing
- Single binary deployment without runtime dependencies

### Build System: Taskfile

- Modern task runner replacing Makefiles
- YAML-based, cross-platform compatible
- Used for build, test, and release workflows

## Architecture Decisions

### ADR-001: Hook-based Prompt Logging

**Context**: Need to capture user prompts during Claude Code sessions.

**Decision**: Implement a Claude Code hook (`UserPromptSubmit`) that appends prompts to `PROMPTS.md` with timestamps.

**Rationale**:
- Non-invasive: runs alongside normal sessions
- Simple shell script avoids Go compilation for basic use
- Standard Markdown format for portability

**Status**: Implemented

### ADR-002: PROMPTS.md as Read-Only Output

**Context**: `PROMPTS.md` is generated by hooks/tools.

**Decision**: Mark as read-only in documentation; never manually edit.

**Rationale**: Ensures reproducibility from source traces.

**Status**: Active

## Naming Conventions

- CLI binary: `thinking-tracer-tools`
- Hooks directory: `.claude/hooks/`
- Generated files: `PROMPTS.md` (uppercase, markdown)

## Integration Points

### Claude Code Traces

- Location: `~/.claude/projects/<project-hash>/*.jsonl`
- Format: JSONL with message objects containing role, content, timestamps
- Thinking blocks: Wrapped in `