{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Launch thinkt",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": []
        },
        {
            "name": "Launch thinkt (with logging)",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": ["--log", "${workspaceFolder}/thinkt.log"]
        },
        {
            "name": "Launch thinkt (with profiling)",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": ["--profile", "${workspaceFolder}/cpu.prof"]
        },
        {
            "name": "Launch thinkt (full debug)",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": ["--log", "${workspaceFolder}/thinkt.log", "--profile", "${workspaceFolder}/cpu.prof"]
        },
        {
            "name": "Launch thinkt (custom dir)",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": ["--dir", "${input:claudeDir}"]
        },
        {
            "name": "Launch thinkt-prompts",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt-prompts",
            "console": "integratedTerminal",
            "args": ["${input:sessionFile}"]
        },
        {
            "name": "Debug Current Test",
            "type": "go",
            "request": "launch",
            "mode": "test",
            "program": "${fileDirname}",
            "args": ["-test.v", "-test.run", "${input:testName}"]
        },
        {
            "name": "Debug All Tests",
            "type": "go",
            "request": "launch",
            "mode": "test",
            "program": "${workspaceFolder}/...",
            "args": ["-test.v"]
        },
        {
            "name": "Attach to Process",
            "type": "go",
            "request": "attach",
            "mode": "local",
            "processId": "${input:processId}"
        },
        {
            "name": "Attach to Delve (headless)",
            "type": "go",
            "request": "attach",
            "mode": "remote",
            "remotePath": "${workspaceFolder}",
            "port": 2345,
            "host": "127.0.0.1",
            "preLaunchTask": "dlv-headless-thinkt"
        },
        {
            "name": "Launch thinkt sessions view",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": ["sessions", "view", "-p", "${input:projectPath}", "${input:sessionId}"]
        },
        {
            "name": "Launch thinkt sessions view (with profiling)",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": ["--profile", "${workspaceFolder}/cpu.prof", "sessions", "view", "-p", "${input:projectPath}", "${input:sessionId}"]
        },
        {
            "name": "Launch thinkt sessions view (picker)",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": ["sessions", "view", "-p", "${input:projectPath}"]
        },
        {
            "name": "Launch thinkt sessions view (all)",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": ["sessions", "view", "-p", "${input:projectPath}", "--all"]
        },
        {
            "name": "Launch thinkt sessions view (all, with profiling)",
            "type": "go",
            "request": "launch",
            "mode": "auto",
            "program": "${workspaceFolder}/cmd/thinkt",
            "console": "integratedTerminal",
            "args": ["--profile", "${workspaceFolder}/cpu.prof", "sessions", "view", "-p", "${input:projectPath}", "--all"]
        }
    ],
    "inputs": [
        {
            "id": "claudeDir",
            "type": "promptString",
            "description": "Path to .claude directory",
            "default": "~/.claude"
        },
        {
            "id": "sessionFile",
            "type": "promptString",
            "description": "Path to session JSONL file"
        },
        {
            "id": "testName",
            "type": "promptString",
            "description": "Test function name (regex)",
            "default": ".*"
        },
        {
            "id": "processId",
            "type": "promptString",
            "description": "Process ID to attach to"
        },
        {
            "id": "projectPath",
            "type": "promptString",
            "description": "Project path (e.g., /Users/evan/myproject)",
            "default": ""
        },
        {
            "id": "sessionId",
            "type": "promptString",
            "description": "Session ID or filename",
            "default": ""
        }
    ]
}
